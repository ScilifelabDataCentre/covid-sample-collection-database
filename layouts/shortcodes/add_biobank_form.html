<form action="https://forms.dc.scilifelab.se/api/v1/form/JR6IMI10u-gpsosh/incoming" 
      class="needs-validation" novalidate method="POST" accept-charset="utf-8">      
  <div class="accordion md-accordion" id="accordionForm" role="tablist" aria-multiselectable="true">
    <div class="card">
      <div class="card-header" role="tab" id="generalinfo">
        <a data-bs-toggle="collapse" data-bs-parent="#accordionForm" href="#collapseGeneralInformation" aria-expanded="true"
        aria-controls="collapseGeneralInformation">
        <h5 class="mb-0">
          General information* <i class="bi bi-caret-down-fill"></i>
        </h5>
      </a>
    </div>
    <div id="collapseGeneralInformation" class="collapse show" role="tabpanel" aria-labelledby="generalinfo"
    data-bs-parent="#accordionForm">
    <div class="card-body">
      <div class="form-group mb-3">
        <label for="name"><b>Biobank name:*</b></label>
        <input type="text" class="form-control" name="name" id="name" required aria-required="true" aria-describedby="nameHelp">
        <small id="nameHelp" class="form-text">
          Provide the full name of the biobank (as required by 
          <a target="_blank" href="https://github.com/MIABIS/miabis/blob/master/Data-describing-Biobank.md">MIABIS-2.0-03</a>).
        </small>
      </div>      
      <div class="form-group mb-3">
        <label for="acronym"><b>Biobank acronym:</b></label>
        <input type="text" class="form-control" name="acronym" id="acronym" aria-describedby="acronymHelp">
        <small id="acronymHelp" class="form-text">
          Biobank acronym (as required by 
          <a target="_blank" href="https://github.com/MIABIS/miabis/blob/master/Data-describing-Biobank.md">MIABIS-2.0-02</a>).
        </small>
      </div>      
      <div class="form-group mb-3">
        <label for="juridicalPerson"><b>Juridical person:*</b></label>
        <input type="text" class="form-control" name="juridicalPerson" id="juridicalPerson" required aria-required="true" aria-describedby="juridicalPersonHelp">
        <small id="juridicalPersonHelp" class="form-text">
          Juristic person of a biobank (as required by 
          <a target="_blank" href="https://github.com/MIABIS/miabis/blob/master/Data-describing-Biobank.md">MIABIS-2.0-05</a>).
        </small>
      </div>
      <div class="form-group mb-3">
        <label for="biobank_sverige"><b>Is the biobank part of Biobank Sverige?*</b></label>
        <div class="form-check">
          <input class="form-check-input" type="radio" name="biobank_sverige" id="yes" value="TRUE" required>
          <label class="form-check-label" for="yes">Yes</label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="radio" name="biobank_sverige" id="no" value="FALSE">
          <label class="form-check-label" for="no">No</label>
        </div>
        <small class="form-text">The biobank belong to the Biobank Sverige network.</small>
      </div>
      <div class="form-group mb-3">
        <label for="ivo_regnum"><b>Biobank registration number at IVO:</b></label>
        <input type="text" class="form-control" name="ivo_regnum" id="ivo_regnum" aria-describedby="ivoRegNumHelp">
        <small id="ivoRegNumHelp" class="form-text">
          If applicable, provide the registration number of the biobank at Inspektionen för vård och omsorg.
        </small>
      </div>      
      <div class="form-group mb-3">
        <label for="bbmri_id"><b>BBMRI-ERIC biobank ID:</b></label>
        <input type="text" class="form-control" name="bbmri_id" id="bbmri_id" aria-describedby="bbmriIdHelp">
        <small id="bbmriIdHelp" class="form-text">
          If the biobank is already listed in BBMRI-ERIC, please provide its ID. These IDs are based on MIABIS 2.0 standard (ISO 3166-1 alpha-2 + underscore + biobank national ID or name), prefixed with bbmri-eric:ID: string. For example, <i>bbmri-eric:ID:SE_9999</i>.
        </small>
      </div>      
      <div class="form-group mb-3">
        <label for="url"><b>Biobank homepage URL:</b></label>
        <input type="url" class="form-control" name="url" id="url" aria-describedby="urlHelp">
        <small id="urlHelp" class="form-text">
          Biobank URL (as required by <a target="_blank" href="https://github.com/MIABIS/miabis/blob/master/Data-describing-Biobank.md">MIABIS-2.0-04</a>).
        </small>
      </div>      
      <div class="form-group mb-3">
        <label for="description"><b>Biobank description:</b></label>
        <textarea class="form-control" id="description" rows="3" name="description" aria-describedby="descriptionHelp"></textarea>
        <small id="descriptionHelp" class="form-text">
          Biobank description (as required by <a target="_blank" href="https://github.com/MIABIS/miabis/blob/master/Data-describing-Biobank.md">MIABIS-2.0-08</a>).
        </small>
      </div>      
      <div class="form-group mb-3">
        <label for="logoURL"><b>Biobank logo URL:</b></label>
        <input type="url" class="form-control" name="logoURL" id="logoURL" aria-describedby="logoURLHelp">
        <small id="logoURLHelp" class="form-text">
          If the biobank has a logotype, please provide a URL of this logo (http://..). The logo will be displayed on the page of the biobank in the registry.
        </small>
      </div>      
    </div>
  </div>
  </div>
  <div class="card">
    <div class="card-header" role="tab" id="generalContactinfo">
      <a data-bs-toggle="collapse" data-bs-parent="#accordionForm" href="#collapseContactInformation" aria-expanded="true"
      aria-controls="collapseContactInformation">
      <h5 class="mb-0">
        Contact information* <i class="bi bi-caret-down-fill"></i>
      </h5>
    </a>
  </div>
  <div id="collapseContactInformation" class="collapse show" role="tabpanel" aria-labelledby="generalContactinfo"
  data-bs-parent="#accordionForm">
  <div class="card-body">
    <h5>Location</h5>
    <div class="form-group mb-3">
      <label for="address"><b>Biobank address:*</b></label>
      <input type="text" class="form-control" name="address" id="address" required aria-describedby="addressHelp">
      <small id="addressHelp" class="form-text">Provide the address where the biobank is located.</small>
    </div>    
    <h5>Contact person</h5>
    <div class="row mb-3">
      <div class="form-group col-md-6">
        <label for="first_name"><b>First name of the contact person for enquiries:*</b></label>
        <input type="text" class="form-control" name="first_name" id="first_name" required aria-describedby="firstNameHelp">
        <small id="firstNameHelp" class="form-text">First name of the person who handles enquiries and questions on behalf of the biobank.</small>
    </div>
    
    <div class="form-group col-md-6">
        <label for="last_name"><b>Last name of the contact person for enquiries:*</b></label>
        <input type="text" class="form-control" name="last_name" id="last_name" required aria-describedby="lastNameHelp">
        <small id="lastNameHelp" class="form-text">Last name of the person who handles enquiries and questions on behalf of the biobank.</small>
    </div>
    
    <div class="row mb-3">
        <div class="form-group col-md-6">
            <label for="email"><b>E-mail of the contact person for enquiries:*</b></label>
            <input type="email" class="form-control" name="email" id="email" required aria-describedby="emailHelp">
            <small id="emailHelp" class="form-text">E-mail address of the person who handles enquiries and questions on behalf of the biobank.</small>
        </div>
    
        <div class="form-group col-md-6">
            <label for="phone"><b>Phone number of the contact person for enquiries:</b></label>
            <input type="text" class="form-control" name="phone" id="phone" aria-describedby="phoneHelp">
            <small id="phoneHelp" class="form-text">Phone number of the person who handles enquiries and questions on behalf of the biobank. To be filled out according to MIABIS 2.0 including international prefix (+99999999999 form with no spaces).</small>
        </div>
    </div>    
    </div>
  </div>
  </div>
  </div>
  </div>

  <div class="g-recaptcha mt-3" data-sitekey="6LfeIHUqAAAAAEZSs0q94yCkQkn_FbE1jF7Q0Lvs"></div>
  <label for="g-recaptcha-response" style="display:none">Recaptcha</label>
  <input type="url" id="originUrl" name="originUrl" value="" hidden aria-label="originUrl"/>
  <input type='hidden' name='origin' value='add_biobank' hidden  aria-label="origin">

  <button type="submit" class="btn btn-secondary mt-3">Submit the form</button>
</form>

<script>
  document.getElementById('originUrl').value = location.href;

  var form = document.querySelector('.needs-validation');
  form.addEventListener('submit', function(event){
      if(form.checkValidity() === false) {
        event.preventDefault();
        alert("Please fill out all required fields.");
        event.stopPropagation();
        form.classList.add('was-validated')
      }
      var recaptcha = $("#g-recaptcha-response").val();
      if (recaptcha === "") {
          event.preventDefault();
          alert("Please tick 'I'm not a robot' above the 'Submit the form' button.");
      }
  });
</script>
